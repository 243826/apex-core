<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="configuration.xsl"?>


<configuration>

  <!-- sample for defining Stram topology within Hadoop configuration framework -->

  <!--  Node 1 -->
  
  <property>
    <name>stram.node.node1.classname</name>
    <value>com.malhar.stram.conf.TopologyBuilderTest$EchoNode</value>
    <description>The root node</description>
  </property>

  <!-- dnode subclass specific property -->
  <property>
    <name>stram.node.node1.myStringProperty</name>
    <value>myStringPropertyValue</value>
    <description>subclass specific property</description>
  </property>

  <!-- Node 2, with stream partitioning policy -->

  <property>
    <name>stram.node.node2.classname</name>
    <value>com.malhar.stram.conf.TopologyBuilderTest$EchoNode</value>
    <description>Another node, which gets input from root</description>
  </property>

  <property>
    <name>stram.node.node2.input</name>
    <value>node1</value>
    <description>Comma separated list of inputs, each input can be further configured as shown below.</description>
  </property>

  <property>
    <name>stram.node.node2.input.node1.partitionPolicy</name>
    <value>someTargetPolicy</value>
    <description>The partition policy for this input.</description>
  </property>

  <property>
    <name>stram.node.node2.input.node1.name</name>
    <value>streamNameNode1Node2</value>
    <description>Application specified stream name.</description>
  </property>

  <!-- Node 3, receives input from node 2 -->

  <property>
    <name>stram.node.node3.classname</name>
    <value>com.malhar.stram.conf.TopologyBuilderTest$EchoNode</value>
    <description>Another node, which gets input from root</description>
  </property>

  <property>
    <name>stram.node.node3.input</name>
    <value>node2</value>
    <description>Node 3 receives input from node 2.</description>
  </property>

  <!-- Node 4, also receives input from node 2 -->

  <property>
    <name>stram.node.node4.classname</name>
    <value>com.malhar.stram.conf.TopologyBuilderTest$EchoNode</value>
    <description>Another node, which gets input from root</description>
  </property>

  <property>
    <name>stram.node.node4.input</name>
    <value>node2</value>
    <description>Node 4 receives also input from node 2.</description>
  </property>

  <!-- Node 5 -->

  <property>
    <name>stram.node.node5.classname</name>
    <value>com.malhar.stram.conf.TopologyBuilderTest$EchoNode</value>
    <description>Another node, which gets input from root</description>
  </property>

  <property>
    <name>stram.node.node5.input</name>
    <value>node4</value>
    <description>Node 5 receives input from node 4.</description>
  </property>

  <!-- Node 6, a single node w/o links -->

  <property>
    <name>stram.node.node6.classname</name>
    <value>com.malhar.stram.conf.TopologyBuilderTest$EchoNode</value>
    <description>Another node, which gets input from root</description>
  </property>


</configuration>