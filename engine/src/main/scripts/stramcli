#!/bin/bash

if [ "$HADOOP_PREFIX" = "" ]; then
    echo "Error: HADOOP_PREFIX is not set."
    exit 1
fi

HADOOP_CLASSPATH=$HADOOP_CLASSPATH:~/.m2/repository/com/malhartech/bufferserver/0.1-SNAPSHOT/bufferserver-0.1-SNAPSHOT.jar
HADOOP_CLASSPATH=$HADOOP_CLASSPATH:~/.m2/repository/com/malhar/app/stram/0.1-SNAPSHOT/stram-0.1-SNAPSHOT.jar

#kryo dependencies
HADOOP_CLASSPATH=$HADOOP_CLASSPATH:~/.m2/repository/com/esotericsoftware/kryo/kryo/2.16/kryo-2.16.jar:~/.m2/repository/com/esotericsoftware/reflectasm/reflectasm/1.06/reflectasm-1.06-shaded.jar
HADOOP_CLASSPATH=$HADOOP_CLASSPATH:~/.m2/repository/org/mockito/mockito-all/1.8.5/mockito-all-1.8.5.jar
HADOOP_CLASSPATH=$HADOOP_CLASSPATH:~/.m2/repository/com/esotericsoftware/minlog/minlog/1.2/minlog-1.2.jar

HADOOP_CLASSPATH=$HADOOP_CLASSPATH:~/.m2/repository/com/sun/jersey/jersey-client/1.8/jersey-client-1.8.jar

export HADOOP_CLIENT_OPTS="$HADOOP_OPTS"
export HADOOP_CLASSPATH

$HADOOP_PREFIX/bin/hadoop com.malhartech.stram.cli.StramCli 
