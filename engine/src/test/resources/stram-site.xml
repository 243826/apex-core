<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="configuration.xsl"?>


<configuration>

  <!-- sample for defining Stram topology as Hadoop configuration -->

  <!--  Node 1 -->
  
  <property>
    <name>stram.node.node1.classname</name>
    <value>com.malhartech.stram.TopologyBuilderTest$EchoNode</value>
    <description>The root node</description>
  </property>

  <!-- dnode subclass specific property -->
  <property>
    <name>stram.node.node1.myStringProperty</name>
    <value>myStringPropertyValue</value>
    <description>subclass specific property</description>
  </property>

  <!-- Node 2, with stream partitioning policy -->

  <property>
    <name>stram.node.node2.classname</name>
    <value>com.malhartech.stram.TopologyBuilderTest$EchoNode</value>
    <description>Another node, which gets input from root</description>
  </property>

  <!--  Stream connecting node1 and node2 -->

  <property>
    <name>stram.stream.n1n2.source</name>
    <value>node1.outputPort</value>
    <description></description>
  </property>

  <property>
    <name>stram.stream.n1n2.sinks</name>
    <value>node2.inputPort</value>
    <description></description>
  </property>

  <property>
    <name>stram.stream.n1n2.partitionPolicy</name>
    <value>someTargetPolicy</value>
    <description>The partition policy for this stream.</description>
  </property>

  <!-- Node 3, receives input from node 2 -->

  <property>
    <name>stram.node.node3.classname</name>
    <value>com.malhartech.stram.TopologyBuilderTest$EchoNode</value>
    <description>Another node, which gets input from root</description>
  </property>

  <!-- Node 4, also receives input from node 2 -->

  <property>
    <name>stram.node.node4.classname</name>
    <value>com.malhartech.stram.TopologyBuilderTest$EchoNode</value>
    <description>Another node, which gets input from root</description>
  </property>

  <property>
    <name>stram.stream.n2n3.source</name>
    <value>node2.outputPort</value>
    <description>Node 3 receives input from node 2.</description>
  </property>

  <property>
    <name>stram.stream.n2n3.sinks</name>
    <value>node3.inputPort,node4.inputPort</value>
    <description>node3 and node4 receives input from node 2.</description>
  </property>

  <!-- Node 5 -->

  <property>
    <name>stram.node.node5.classname</name>
    <value>com.malhartech.stram.TopologyBuilderTest$EchoNode</value>
    <description>Another node, which gets input from root</description>
  </property>

  <property>
    <name>stram.stream.n4n5.source</name>
    <value>node4.outputPort</value>
    <description>Node 5 receives input from node 4.</description>
  </property>

  <property>
    <name>stram.stream.n4n5.sinks</name>
    <value>node5.inputPort</value>
    <description>Node 5 receives input from node 4.</description>
  </property>


  <!-- Node 6, single node w/o links -->

  <property>
    <name>stram.node.node6.classname</name>
    <value>com.malhartech.stram.TopologyBuilderTest$EchoNode</value>
    <description>Another node, which gets input from root</description>
  </property>


</configuration>