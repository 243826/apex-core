<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="configuration.xsl"?>


<configuration>

  <!-- sample for defining DAG in Hadoop configuration format -->

  <!--  Module 1 -->

  <property>
    <name>stram.operator.module1.classname</name>
    <value>com.malhartech.engine.GenericTestModule</value>
    <description>The root module</description>
  </property>

  <!-- operator subclass specific property -->
  <property>
    <name>stram.operator.module1.myStringProperty</name>
    <value>myStringPropertyValue</value>
    <description>subclass specific property</description>
  </property>

  <!-- Module 2, with stream partitioning policy -->

  <property>
    <name>stram.operator.module2.classname</name>
    <value>com.malhartech.engine.GenericTestModule</value>
    <description>Another module, which gets input from root</description>
  </property>

  <!--  Stream connecting module1 and module2 -->

  <property>
    <name>stram.stream.n1n2.source</name>
    <value>module1.output1</value>
    <description></description>
  </property>

  <property>
    <name>stram.stream.n1n2.sinks</name>
    <value>module2.input1</value>
    <description></description>
  </property>

  <property>
    <name>stram.stream.n1n2.partitionPolicy</name>
    <value>someTargetPolicy</value>
    <description>The partition policy for this stream.</description>
  </property>

  <!-- Module 3, receives input from module 2 -->

  <property>
    <name>stram.operator.module3.classname</name>
    <value>com.malhartech.engine.GenericTestModule</value>
    <description>Another module, which gets input from root</description>
  </property>

  <!-- Module 4, also receives input from module 2 -->

  <property>
    <name>stram.operator.module4.classname</name>
    <value>com.malhartech.engine.GenericTestModule</value>
    <description>Another module, which gets input from root</description>
  </property>

  <property>
    <name>stram.stream.n2n3.source</name>
    <value>module2.output1</value>
    <description>Module 3 receives input from module 2.</description>
  </property>

  <property>
    <name>stram.stream.n2n3.sinks</name>
    <value>module3.input1,module4.input1</value>
    <description>module3 and module4 receives input from module 2.</description>
  </property>

  <!-- Module 5 -->

  <property>
    <name>stram.operator.module5.classname</name>
    <value>com.malhartech.engine.GenericTestModule</value>
  </property>

  <property>
    <name>stram.stream.n4n5.source</name>
    <value>module4.output1</value>
    <description>Module 5 receives input from module 4.</description>
  </property>

  <property>
    <name>stram.stream.n4n5.sinks</name>
    <value>module5.input1</value>
    <description>Module 5 receives input from module 4.</description>
  </property>


  <!-- Module 6, single operator w/o links -->

  <property>
    <name>stram.operator.module6.classname</name>
    <value>com.malhartech.engine.GenericTestModule</value>
    <description>Another module, which gets input from root</description>
  </property>


</configuration>
